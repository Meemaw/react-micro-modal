(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(module,exports,__webpack_require__){__webpack_require__(166),__webpack_require__(243),module.exports=__webpack_require__(244)},244:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44),_storybook_addon_a11y__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(162);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_a11y__WEBPACK_IMPORTED_MODULE_1__.withA11y),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){return __webpack_require__(329)},module)}.call(this,__webpack_require__(124)(module))},329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(330),__webpack_require__(333),__webpack_require__(335)},330:function(module,exports,__webpack_require__){var content=__webpack_require__(331);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(160)(content,options);content.locals&&(module.exports=content.locals)},331:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(159)(!1)).push([module.i,"@-webkit-keyframes modal-fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes modal-fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@-webkit-keyframes modal-slide-in {\n  from {\n    -webkit-transform: translateY(15%);\n            transform: translateY(15%);\n  }\n  to {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n\n@keyframes modal-slide-in {\n  from {\n    -webkit-transform: translateY(15%);\n            transform: translateY(15%);\n  }\n  to {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n\n@-webkit-keyframes modal-slide-out {\n  from {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n  to {\n    -webkit-transform: translateY(-10%);\n            transform: translateY(-10%);\n  }\n}\n\n@keyframes modal-slide-out {\n  from {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n  to {\n    -webkit-transform: translateY(-10%);\n            transform: translateY(-10%);\n  }\n}\n\n@-webkit-keyframes modal-fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n@keyframes modal-fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.modal-slide[aria-hidden='false'] .modal-overlay {\n  -webkit-animation: modal-fade-in 0.3s cubic-bezier(0, 0, 0.2, 1);\n          animation: modal-fade-in 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.modal-slide[aria-hidden='true'] .modal-overlay {\n  -webkit-animation: modal-fade-out 0.3s cubic-bezier(0, 0, 0.2, 1);\n          animation: modal-fade-out 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.modal-slide[aria-hidden='false'] .modal-container {\n  -webkit-animation: modal-slide-in 0.3s cubic-bezier(0, 0, 0.2, 1);\n          animation: modal-slide-in 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.modal-slide[aria-hidden='true'] .modal-container {\n  -webkit-animation: modal-slide-out 0.3s cubic-bezier(0, 0, 0.2, 1);\n          animation: modal-slide-out 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n",""])},333:function(module,exports,__webpack_require__){var content=__webpack_require__(334);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(160)(content,options);content.locals&&(module.exports=content.locals)},334:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(159)(!1)).push([module.i,"code {\n  color: #8a2be2;\n  padding: 0.2rem 0.4rem;\n  font-size: 90% !important;\n  background-color: #f7f7f9;\n  border-radius: 0.25rem;\n  font-family: Source Code Pro, Consolas, monaco, monospace !important;\n}\n\n.modal--header,\n.modal--footer {\n  display: flex;\n  justify-content: space-between;\n}\n\n.trigger-wrapper {\n  width: 400px;\n  height: 400px;\n  background: #f06292;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n}\n\n.trigger-wrapper button {\n  border: none;\n  padding: 16px;\n  border-radius: 12px;\n}\n\n.heading {\n  margin: 0px;\n}\n\n.background--red {\n  background: red !important;\n}\n\n.story--modal > div > div {\n  max-width: 200px !important;\n}\n\nbutton:hover {\n  cursor: pointer;\n}\n\n@-webkit-keyframes modal-fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes modal-fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@-webkit-keyframes modal-slide-in {\n  from {\n    -webkit-transform: translateY(55%);\n            transform: translateY(55%);\n  }\n  to {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n\n@keyframes modal-slide-in {\n  from {\n    -webkit-transform: translateY(55%);\n            transform: translateY(55%);\n  }\n  to {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n\n@-webkit-keyframes modal-slide-out {\n  from {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n  to {\n    -webkit-transform: translateY(-55%);\n            transform: translateY(-55%);\n  }\n}\n\n@keyframes modal-slide-out {\n  from {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n  to {\n    -webkit-transform: translateY(-55%);\n            transform: translateY(-55%);\n  }\n}\n\n@-webkit-keyframes modal-fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n@keyframes modal-fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.modal-slide[aria-hidden='false'] .modal-overlay.custom-animation {\n  -webkit-animation: modal-fade-in 3s cubic-bezier(0, 0, 0.5, 1);\n          animation: modal-fade-in 3s cubic-bezier(0, 0, 0.5, 1);\n}\n\n.modal-slide[aria-hidden='true'] .modal-overlay.custom-animation {\n  -webkit-animation: modal-fade-out 3s cubic-bezier(0, 0, 0.5, 1);\n          animation: modal-fade-out 3s cubic-bezier(0, 0, 0.5, 1);\n}\n\n.modal-slide[aria-hidden='false']\n  .modal-overlay.custom-animation\n  > .modal-container {\n  -webkit-animation: modal-slide-in 3s cubic-bezier(0, 0, 0.5, 1);\n          animation: modal-slide-in 3s cubic-bezier(0, 0, 0.5, 1);\n}\n\n.modal-slide[aria-hidden='true']\n  .modal-overlay.custom-animation\n  > .modal-container {\n  -webkit-animation: modal-slide-out 3s cubic-bezier(0, 0, 0.5, 1);\n          animation: modal-slide-out 3s cubic-bezier(0, 0, 0.5, 1);\n}\n",""])},335:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _Users_msnuderl_Workspace_Personal_react_micro_modal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(163),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(44),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66),withStorySource=__webpack_require__(336).withStorySource;Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("react-micro-modal",module).addDecorator(withStorySource("import { storiesOf } from '@storybook/react';\nimport React, { useState } from 'react';\n\nimport MicroModal, { BaseProps } from '../src';\n\nstoriesOf('react-micro-modal', module)\n  .add('Default', () => <StoryModal />)\n  .add('Initially open', () => <StoryModal openInitially={true} />)\n  .add('Animate modal closing', () => <StoryModal closeOnAnimationEnd={true} />)\n  .add(\"Doesn't close on escape click\", () => <StoryModal closeOnEscapePress={false} />)\n  .add(\"Doesn't close on document click\", () => <StoryModal closeOnOverlayClick={false} />)\n  .add('Disable first element focus on modal open', () => <StoryModal disableFirstElementFocus={true} />)\n  .add('Custom styling through className', () => (\n    <StoryModal modalOverlayClassName=\"background--red\" modalClassName=\"story--modal\" />\n  ))\n  .add('Custom styling through jsx', () => <StoryModal containerStyles={{ background: 'red', maxWidth: '100%' }} />)\n  .add('Custom animations', () => <StoryModal closeOnAnimationEnd={true} modalOverlayClassName=\"custom-animation\" />)\n  .add('As Toast', () =>\n    React.createElement(() => {\n      const [open, setOpen] = useState(false);\n\n      return (\n        <React.Fragment>\n          <button\n            onClick={() => {\n              setOpen(true);\n              setTimeout(() => setOpen(false), 2000);\n            }}\n          >\n            Show toast!\n          </button>\n          <MicroModal\n            open={open}\n            closeOnAnimationEnd={true}\n            modalOverlayStyles={{\n              justifyContent: 'flex-end',\n              alignItems: 'flex-start',\n            }}\n            containerStyles={{\n              marginTop: '16px',\n              marginRight: '16px',\n            }}\n          >\n            {_ => {\n              return <div>I'm a toast, closing in 2 seconds!</div>;\n            }}\n          </MicroModal>\n        </React.Fragment>\n      );\n    })\n  );\n\nconst StoryModal = (props: BaseProps) => (\n  <MicroModal\n    trigger={handleOpen => (\n      <div className=\"trigger-wrapper\">\n        <div>\n          <button onClick={handleOpen}>Open modal</button>\n        </div>\n      </div>\n    )}\n    {...props}\n  >\n    {handleClose => <StoryModalContent handleClose={handleClose} />}\n  </MicroModal>\n);\n\nconst StoryModalContent = ({ handleClose }: { handleClose: () => void }) => {\n  return (\n    <React.Fragment>\n      <header className=\"modal--header\">\n        <h2 className=\"heading\">react-micro-modal 🔥</h2>\n        <button onClick={handleClose} className=\"fas fa-times\" style={{ border: 0, background: 'transparent' }} />\n      </header>\n\n      <section>\n        <p>Acessible react modal component.</p>\n        <p>\n          Try hitting the <code>tab</code> or <code>shift+tab</code> key* and notice how the focus stays within the\n          modal itself. To close modal hit the <code>esc</code> button, click on the overlay or just click the close\n          button.\n        </p>\n      </section>\n\n      <footer className=\"modal--footer\">\n        <div>\n          <MicroModal\n            trigger={handleOpen => (\n              <button style={{ backgroundColor: '#00449e', color: '#fff' }} onClick={handleOpen}>\n                Continue\n              </button>\n            )}\n          >\n            {handleClose => (\n              <div>\n                <p>I'm a nested modal</p>\n                <button onClick={handleClose}>Close</button>\n              </div>\n            )}\n          </MicroModal>\n          <button onClick={handleClose}>Close</button>\n        </div>\n\n        <a href=\"https://github.com/Meemaw/react-micro-modal/\" target=\"_blank\">\n          <i className=\"fab fa-github\" />\n        </a>\n      </footer>\n    </React.Fragment>\n  );\n};\n",{"react-micro-modal--as-toast":{startLoc:{col:7,line:18},endLoc:{col:6,line:50}},"react-micro-modal--custom-animations":{startLoc:{col:7,line:17},endLoc:{col:116,line:17}},"react-micro-modal--custom-styling-through-jsx":{startLoc:{col:7,line:16},endLoc:{col:115,line:16}},"react-micro-modal--custom-styling-through-classname":{startLoc:{col:7,line:13},endLoc:{col:3,line:15}},"react-micro-modal--disable-first-element-focus-on-modal-open":{startLoc:{col:7,line:12},endLoc:{col:104,line:12}},"react-micro-modal--doesn-t-close-on-document-click":{startLoc:{col:7,line:11},endLoc:{col:90,line:11}},"react-micro-modal--doesn-t-close-on-escape-click":{startLoc:{col:7,line:10},endLoc:{col:87,line:10}},"react-micro-modal--animate-modal-closing":{startLoc:{col:7,line:9},endLoc:{col:79,line:9}},"react-micro-modal--initially-open":{startLoc:{col:7,line:8},endLoc:{col:66,line:8}},"react-micro-modal--default":{startLoc:{col:7,line:7},endLoc:{col:38,line:7}}})).add("Default",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,null)}).add("Initially open",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{openInitially:!0})}).add("Animate modal closing",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{closeOnAnimationEnd:!0})}).add("Doesn't close on escape click",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{closeOnEscapePress:!1})}).add("Doesn't close on document click",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{closeOnOverlayClick:!1})}).add("Disable first element focus on modal open",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{disableFirstElementFocus:!0})}).add("Custom styling through className",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{modalOverlayClassName:"background--red",modalClassName:"story--modal"})}).add("Custom styling through jsx",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{containerStyles:{background:"red",maxWidth:"100%"}})}).add("Custom animations",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModal,{closeOnAnimationEnd:!0,modalOverlayClassName:"custom-animation"})}).add("As Toast",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(function(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState2=Object(_Users_msnuderl_Workspace_Personal_react_micro_modal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),open=_useState2[0],setOpen=_useState2[1];return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:function onClick(){setOpen(!0),setTimeout(function(){return setOpen(!1)},2e3)}},"Show toast!"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,{open:open,closeOnAnimationEnd:!0,modalOverlayStyles:{justifyContent:"flex-end",alignItems:"flex-start"},containerStyles:{marginTop:"16px",marginRight:"16px"}},function(_){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,"I'm a toast, closing in 2 seconds!")}))})});var StoryModal=function StoryModal(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({trigger:function trigger(handleOpen){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"trigger-wrapper"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:handleOpen},"Open modal")))}},props),function(handleClose){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StoryModalContent,{handleClose:handleClose})})},StoryModalContent=function StoryModalContent(_ref){var handleClose=_ref.handleClose;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("header",{className:"modal--header"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h2",{className:"heading"},"react-micro-modal 🔥"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:handleClose,className:"fas fa-times",style:{border:0,background:"transparent"}})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Acessible react modal component."),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Try hitting the ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("code",null,"tab")," or ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("code",null,"shift+tab")," key* and notice how the focus stays within the modal itself. To close modal hit the ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("code",null,"esc")," button, click on the overlay or just click the close button.")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("footer",{className:"modal--footer"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,{trigger:function trigger(handleOpen){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{style:{backgroundColor:"#00449e",color:"#fff"},onClick:handleOpen},"Continue")}},function(handleClose){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"I'm a nested modal"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:handleClose},"Close"))}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:handleClose},"Close")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{href:"https://github.com/Meemaw/react-micro-modal/",target:"_blank"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("i",{className:"fab fa-github"}))))}}).call(this,__webpack_require__(124)(module))},66:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(100),objectWithoutProperties=__webpack_require__(164),classCallCheck=__webpack_require__(61),createClass=__webpack_require__(62),possibleConstructorReturn=__webpack_require__(64),getPrototypeOf=__webpack_require__(63),inherits=__webpack_require__(65),react=__webpack_require__(0),react_default=__webpack_require__.n(react),getFocusableNodes=function getFocusableNodes(ref){return ref.current?Object.values(ref.current.querySelectorAll(FOCUSABLE_SELETORS)):[]},handleTabPress=function handleTabPress(ref,event){var focusableNodes=getFocusableNodes(ref);if(focusableNodes.length){var focusedElement=focusableNodes[0];if(!ref.current||ref.current.contains(document.activeElement)){var focusedItemIndex=focusableNodes.indexOf(document.activeElement);return event.shiftKey&&0===focusedItemIndex&&(focusableNodes[focusableNodes.length-1].focus(),event.preventDefault()),event.shiftKey||focusedItemIndex!==focusableNodes.length-1||(focusedElement.focus(),event.preventDefault()),focusableNodes[focusedItemIndex]}return focusedElement.focus(),event.preventDefault(),focusedElement}},FOCUSABLE_SELETORS=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],react_dom=__webpack_require__(99),react_dom_default=__webpack_require__.n(react_dom);var portalIndex=1,Portal=function(_React$Component){function ModalPortal(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,ModalPortal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(ModalPortal)).call.apply(_getPrototypeOf2,[this].concat(args)))).node=function portalNode(id){var el=document.createElement("div");return el.className=id?"".concat(id,"-portal"):"micro-modal-portal-".concat(portalIndex++),el}(_this.props.id),_this.getParent=function(){return _this.props.parentSelector?_this.props.parentSelector():document.body},_this}return Object(inherits.a)(ModalPortal,_React$Component),Object(createClass.a)(ModalPortal,[{key:"componentDidMount",value:function componentDidMount(){this.getParent().appendChild(this.node)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.getParent().removeChild(this.node)}},{key:"render",value:function render(){return react_dom_default.a.createPortal(this.props.children,this.node)}}]),ModalPortal}(react_default.a.Component),OVERLAY_BASE_STYLE={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center"},CONTAINER_BASE_STYLE={backgroundColor:"#fff",padding:"30px",maxWidth:"500px",maxHeight:"100vh",borderRadius:"4px",overflowY:"auto",boxSizing:"border-box"};var ESCAPE_KEY="Escape",TAB_KEY="Tab",openContainerRefStack=[];var src_MicroModal=function(_React$PureComponent){function MicroModal(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,MicroModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(MicroModal)).call.apply(_getPrototypeOf2,[this].concat(args)))).state=function getInitialState(props){return{isClosing:!1,open:props.openInitially||!1}}(_this.props),_this.isControlled=void 0!==_this.props.open,_this.modalRef=react_default.a.createRef(),_this.containerRef=react_default.a.createRef(),_this.lastElement=void 0,_this.closeOnAnimationEnd=function(handleClose){var containerElement=_this.containerRef.current;containerElement.addEventListener("animationend",function handler(){handleClose(),containerElement.removeEventListener("animationend",handler,!1)})},_this.handleOpen=function(){_this.setState({open:!0},_this.onAfterOpen)},_this.onAfterOpen=function(){_this.lastElement=document.activeElement,openContainerRefStack.push(_this.containerRef),_this.addEventListeners(),_this.focusFirstNode()},_this.addEventListeners=function(){document.addEventListener("keydown",_this.onKeydown),_this.props.closeOnOverlayClick&&_this.modalRef.current.addEventListener("click",_this.onClick)},_this.startClosingUncontrolled=function(){_this.setState({isClosing:!0},function(){_this.closeOnAnimationEnd(_this._handleCloseAnimationEnd)})},_this.handleClose=function(){_this.isControlled?_this.props.handleClose?_this.props.handleClose():console.warn("[React-micro-modal]: cannot close modal - handleClose prop is not passed."):_this.props.closeOnAnimationEnd?_this.startClosingUncontrolled():_this._handleCloseAnimationEnd()},_this._handleCloseAnimationEnd=function(){_this.setState({open:!1,isClosing:!1},_this.onAfterClose)},_this.onAfterClose=function(){_this.removeEventListeners(),openContainerRefStack.pop(),_this.lastElement&&(_this.lastElement.focus(),_this.lastElement=void 0)},_this.removeEventListeners=function(){document.removeEventListener("keydown",_this.onKeydown),_this.props.closeOnOverlayClick&&_this.modalRef.current.removeEventListener("click",_this.onClick)},_this.onClick=function(event){event.target&&_this.containerRef.current&&!_this.containerRef.current.contains(event.target)&&(_this.handleClose(),event.preventDefault())},_this.onKeydown=function(event){_this.containerRef===function getLastOpenContainer(){return openContainerRefStack[openContainerRefStack.length-1]}()&&(event.key===ESCAPE_KEY&&_this.props.closeOnEscapePress&&(event.stopPropagation(),_this.handleClose()),event.key===TAB_KEY&&handleTabPress(_this.containerRef,event))},_this.renderContent=function(open,isClosing,renderChildren,overlayStyle,parentSelector){var ariaHidden=open&&!isClosing?"false":"true",baseModalClassName=open?"modal modal-slide is-open":"modal modal-slide",customModalClassName=_this.props.modalClassName.trim(),modalClassName=customModalClassName?"".concat(baseModalClassName," ").concat(customModalClassName):baseModalClassName,customModalOverlayClassName=_this.props.modalOverlayClassName.trim(),baseModalOverlayClassName=_this.props.modalOverlayClassName?"modal-overlay ".concat(customModalOverlayClassName):"modal-overlay",restOverlayStyle=(overlayStyle.zIndex,Object(objectWithoutProperties.a)(overlayStyle,["zIndex"]));return react_default.a.createElement(Portal,{parentSelector:parentSelector,id:_this.props.id},react_default.a.createElement("div",{className:modalClassName,"aria-hidden":ariaHidden,ref:_this.modalRef,id:_this.props.id,"data-testid":_this.props.id||"micro-modal",style:{display:open?"block":"none"}},react_default.a.createElement("div",{className:baseModalOverlayClassName,style:Object(objectSpread.a)({},OVERLAY_BASE_STYLE,restOverlayStyle)},react_default.a.createElement("div",{className:"modal-container",style:Object(objectSpread.a)({},CONTAINER_BASE_STYLE,_this.props.containerStyles),role:"dialog","aria-modal":"true",ref:_this.containerRef,"data-testid":"micro-modal__container"},open?renderChildren(_this.handleClose):null))))},_this}return Object(inherits.a)(MicroModal,_React$PureComponent),Object(createClass.a)(MicroModal,[{key:"componentDidMount",value:function componentDidMount(){this.props.openInitially&&!this.props.disableFirstElementFocus&&this.focusFirstNode()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){(this.isControlled&&prevProps.open!==this.state.open||this.state.isClosing)&&(this.state.isClosing?this.props.closeOnAnimationEnd?this.closeOnAnimationEnd(this._handleCloseAnimationEnd):this._handleCloseAnimationEnd():this.onAfterOpen())}},{key:"focusFirstNode",value:function focusFirstNode(){this.props.disableFirstElementFocus||function focusFirstNode(ref){var focusedElement,focusableNodes=getFocusableNodes(ref);focusableNodes.length&&(focusedElement=focusableNodes[0]).focus()}(this.containerRef)}},{key:"render",value:function render(){var _this$props=this.props,trigger=_this$props.trigger,children=_this$props.children,modalOverlayStyles=_this$props.modalOverlayStyles,parentSelector=_this$props.parentSelector,_this$state=this.state,open=_this$state.open,isClosing=_this$state.isClosing;return react_default.a.createElement(react_default.a.Fragment,null,this.renderContent(open,isClosing,children,modalOverlayStyles,parentSelector),void 0!==trigger&&trigger(this.handleOpen))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){return void 0!==props.open&&props.open!==state.open?{open:!0,isClosing:!props.open}:null}}]),MicroModal}(react_default.a.PureComponent);src_MicroModal.defaultProps={disableFirstElementFocus:!1,modalOverlayStyles:{},containerStyles:{},closeOnEscapePress:!0,closeOnOverlayClick:!0,closeOnAnimationEnd:!1,modalOverlayClassName:"",modalClassName:"",openInitially:!1};__webpack_exports__.a=src_MicroModal}},[[165,1,2]]]);
//# sourceMappingURL=main.93117e1a4d68881b7b22.bundle.js.map